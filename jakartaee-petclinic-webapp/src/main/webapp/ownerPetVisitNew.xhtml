<ui:composition template="template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <f:loadBundle basename="messages" var="msg" />

    <ui:define name="contentTitle">
        <h1>
            <i class="fas fa-paw"></i>
            <h:outputText value="#{msg['addVisit']}"/>
        </h1>
    </ui:define>

    <ui:define name="content">
        <div class="container">
        <h:form id="addVisitForm">
            <p:panel id="contentPanelPetAndOwner" header="#{msg['pet']}">
            <p:panelGrid id="grid" columns="2" styleClass="table table-striped">
                <h:outputText value="#{msg['name']}" />
                <h:outputText id="petName" value="#{ownerView.pet.name}" />

                <h:outputText value="#{msg['petType']}" />
                <h:outputText id="petType" value="#{ownerView.pet.type.name}" />

                <h:outputText value="#{msg['birthdate']}" />
                <h:outputText id="petBirthDate" value="#{ownerView.pet.birthDate}">
                    <f:convertDateTime type="date" dateStyle="medium"/>
                </h:outputText>

                <h:outputText value="#{msg['owner']}" />
                <h:outputText id="ownerFullName" value="#{ownerView.pet.owner.fullName}" />
            </p:panelGrid>
            </p:panel>
            <p:panel id="contentPanelNewVisit" header="#{msg['addVisit']}">
            <p:panelGrid id="grid2" columns="2" >
                <p:outputLabel value="#{msg['date']}" for="visitDate" />
                <p:calendar id="visitDate"
                            styleClass="twCalendar"
                            value="#{ownerView.visit.date}"
                            showOn="visitDate"
                            navigator="true"
                            locale="#{languageView.locale}">
                    <f:convertDateTime pattern="MM/dd/yyyy" />
                </p:calendar>
                <p:outputLabel value="#{msg['description']}" for="visitDescription" />
                <p:inputText id="visitDescription" styleClass="form-control"
                             value="#{ownerView.visit.description}" />
                <p:commandButton
                        id="save"
                        type="submit"
                        value="#{msg['save']}"
                        action="#{ownerView.saveOwnerPetVisitNew}"
                        ajax="false"
                        icon="fa fa-fw fa-save"
                        styleClass="saveButton"/>
                <p:commandButton
                        id="cancel"
                        type="cancel"
                        value="#{msg['cancel']}"
                        action="#{ownerView.cancelOwnerPetVisitNew}"
                        ajax="false"
                        icon="fa fa-fw fa-times-circle"
                        styleClass="cancelButton"
                        includeViewParams="true"/>
            </p:panelGrid>
            </p:panel>
            <p:panel id="contentPanelPreviousVisits" header="#{msg['previousVisits']}">
            <p:dataTable id="previousVisitsTable"
                         value="#{ownerView.pet.visits}"
                         var="petsVisit"
                         styleClass="table table-striped">
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msg['date']}"/>
                    </f:facet>
                    <h:outputText id="date" value="#{petsVisit.date}">
                        <f:convertDateTime type="date" dateStyle="medium"/>
                    </h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msg['description']}"/>
                    </f:facet>
                    <h:outputText id="description" value="#{petsVisit.description}"/>
                </p:column>
            </p:dataTable>
            </p:panel>
        </h:form>
        </div>
    </ui:define>

</ui:composition>